# Cloudflare Worker Environment Variables
# Copy this file to .env and fill in your values
# DO NOT commit .env to git - this file only contains non-sensitive examples

# === Origin API Configuration ===

# Base URL for the Metrolinx Open Data API
# Required for all requests to the origin API
ORIGIN_BASE_URL=https://api.openmetrolinx.com/OpenDataAPI/

# Metrolinx API Access Key (obtain from https://www.gotransit.com/en/open-data)
# This is a SECRET - DO NOT commit to git
# Set via: wrangler secret put ORIGIN_AUTH_TOKEN --env <environment>
ORIGIN_AUTH_TOKEN=your_metrolinx_api_key_here

# === Cache Configuration ===

# Edge cache TTL (Cloudflare cache, in seconds)
# Default: 300 (5 minutes)
# GO Transit data updates every 2-5 minutes, so 5 min is reasonable
EDGE_TTL=300

# Browser cache TTL (client-side cache, in seconds)
# Default: 60 (1 minute)
# Prevents client from hammering the edge cache too frequently
BROWSER_TTL=60

# Stale-While-Revalidate TTL (in seconds)
# Default: 30 (30 seconds)
# Allows serving stale responses while revalidating in the background
STALE_WHILE_REVALIDATE_TTL=30

# === Timeout Configuration ===

# Origin fetch timeout in milliseconds
# Default: 3000 (3 seconds)
# Metrolinx API should respond within 1-2s under normal conditions
ORIGIN_TIMEOUT_MS=3000

# === Logging & Observability ===

# Logging level (debug, info, warn, error)
# Default: info
LOG_LEVEL=info

# Environment identifier (development, staging, production)
# Default: development
ENVIRONMENT=development

# Enable detailed performance logging
# Default: false
DEBUG_PERFORMANCE=false

# === Feature Flags ===

# Enable request validation (reject unknown params)
# Default: true
VALIDATE_PARAMS=true

# Enable CORS headers
# Default: true
ENABLE_CORS=true

# Enable observability headers (X-Cache, X-Proxy-Version)
# Default: true
ENABLE_OBSERVABILITY_HEADERS=true

# Allow requests from localhost during development
# Default: true (only for development)
ALLOW_LOCALHOST=true

# === Database & KV Bindings (Future) ===

# These are configured in wrangler.toml bindings, not here
# KV_NAMESPACE_ID=your-kv-id
# DB_ID=your-db-id
